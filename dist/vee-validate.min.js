!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VeeValidate=t()}(this,function(){"use strict";function e(e){return e&&e.__esModule?e.default:e}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){(0,E.default)(e);var n=void 0,r=void 0;"object"===("undefined"==typeof t?"undefined":w(t))?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var i=encodeURI(e).split(/%..|./).length-1;return i>=n&&("undefined"==typeof r||i<=r)}var i=function(e){return/^[a-zA-Z]*$/.test(e)},a=function(e){return/^[a-zA-Z0-9_-]*$/.test(e)},o=function(e){return/^[a-zA-Z0-9]*$/.test(e)},u=function(e){return/^[a-zA-Z\s]*$/.test(e)},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,i){var u={key:e,arg:t,resolve:n,reject:i,next:null};o?o=o.next=u:(a=o=u,r(e,t))})}function r(n,a){try{var o=t[n](a),u=o.value;u instanceof e?Promise.resolve(u.value).then(function(e){r("next",e)},function(e){r("throw",e)}):i(o.done?"return":"normal",o.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":a.resolve({value:t,done:!0});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:!1})}a=a.next,a?r(a.key,a.arg):o=null}var a,o;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(e){return Array.isArray(e)?e:Array.from(e)},m=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},y=function(e,t){var n=h(t,2),r=n[0],i=n[1];return Number(r)<=e&&Number(i)>=e},g=function(e,t){var n=h(t,1),r=n[0],i=document.querySelector("input[name='"+r+"']");return!(!i||String(e)!==i.value)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],n=h(t,1),r=n[0];if(Array.isArray(e))return!1;if(null===e||void 0===e||""===e)return!0;var i="*"===r?"+":"{1,"+r+"}",a=new RegExp("^-?\\d*(\\.\\d"+i+")?$");return!!a.test(e)&&!Number.isNaN(parseFloat(e))},_=function(e,t){var n=h(t,1),r=n[0],i=String(e);return/^[0-9]*$/.test(i)&&i.length===Number(r)},b=function(e,t,n){var r=window.URL||window.webkitURL;return new Promise(function(i){var a=new Image;a.onerror=function(){return i({valid:!1})},a.onload=function(){return i({valid:a.width===Number(t)&&a.height===Number(n)})},a.src=r.createObjectURL(e)})},x=function(e,t){for(var n=h(t,2),r=n[0],i=n[1],a=[],o=0;o<e.length;o++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(e[o].name))return!1;a.push(e[o])}return Promise.all(a.map(function(e){return b(e,r,i)}))},k=t(function(e,t){function n(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default}),F=t(function(e,t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default});Object.defineProperty(exports,"__esModule",{value:!0});var w="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":s(e)};exports.default=r;var $=require("./util/assertString"),E=n($);module.exports=exports.default;var j=Object.freeze({}),T=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){(0,a.default)(e),t=(0,u.default)(t,s),t.allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));var n=e.split(".");if(t.require_tld){var r=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1}for(var i,o=0;o<n.length;o++){if(i=n[o],t.allow_underscores&&(i=i.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(i))return!1;if(/[\uff01-\uff5e]/.test(i))return!1;if("-"===i[0]||"-"===i[i.length-1])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=k,a=n(i),o=F,u=n(o),s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default}),A=j&&j.default||j,O=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if((0,a.default)(e),t=(0,u.default)(t,d),t.allow_display_name){var n=e.match(h);n&&(e=n[1])}var r=e.split("@"),i=r.pop(),o=r.join("@"),s=i.toLowerCase();if("gmail.com"!==s&&"googlemail.com"!==s||(o=o.replace(/\./g,"").toLowerCase()),!(0,l.default)(o,{max:64})||!(0,l.default)(i,{max:256}))return!1;if(!(0,c.default)(i,{require_tld:t.require_tld}))return!1;if('"'===o[0])return o=o.slice(1,o.length-1),t.allow_utf8_local_part?g.test(o):m.test(o);for(var f=t.allow_utf8_local_part?y:v,p=o.split("."),_=0;_<p.length;_++)if(!f.test(p[_]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=k,a=n(i),o=F,u=n(o),s=A,l=n(s),f=T,c=n(f),d={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,v=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,y=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default}),S=e(O),L=function(e){return S(String(e))},M=function(e,t){for(var n=new RegExp(".("+t.join("|")+")$","i"),r=0;r<e.length;r++)if(!n.test(e[r].name))return!1;return!0},D=function(e){for(var t=0;t<e.length;t++)if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(e[t].name))return!1;return!0},N=function(e,t){return!!t.filter(function(t){return t==e}).length},B=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,a.default)(e),t=String(t),!t)return r(e,4)||r(e,6);if("4"===t){if(!o.test(e))return!1;var n=e.split(".").sort(function(e,t){return e-t});return n[3]<=255}if("6"===t){var i=e.split(":"),s=!1,l=r(i[i.length-1],4),f=l?7:8;if(i.length>f)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(i.shift(),i.shift(),s=!0):"::"===e.substr(e.length-2)&&(i.pop(),i.pop(),s=!0);for(var c=0;c<i.length;++c)if(""===i[c]&&c>0&&c<i.length-1){if(s)return!1;s=!0}else if(l&&c===i.length-1);else if(!u.test(i[c]))return!1;return s?i.length>=1:i.length===f}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=k,a=n(i),o=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,u=/^[0-9A-F]{1,4}$/i;e.exports=t.default}),q=e(B),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[4],n=h(t,1),r=n[0];return q(e,r)},P=function(e,t){var n=h(t,1),r=n[0];return void 0===e||null===e?r>=0:String(e).length<=r},z=function(e,t){for(var n=new RegExp(t.join("|").replace("*",".+")+"$","i"),r=0;r<e.length;r++)if(!n.test(e[r].type))return!1;return!0},R=function(e,t){var n=h(t,1),r=n[0];return void 0!==e&&null!==e&&String(e).length>=r},C=function(e,t){return!t.filter(function(t){return t==e}).length},I=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,a.default)(e),o.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=k,a=n(i),o=/^[-+]?[0-9]+$/;e.exports=t.default}),U=e(I),Z=function(e){return U(String(e))},Y=function(e,t){var n=v(t),r=n[0],i=n.slice(1);return r instanceof RegExp?r.test(e):new RegExp(r,i).test(String(e))},K=function(e){return Array.isArray(e)?!!e.length:void 0!==e&&null!==e&&!!String(e).trim().length},G=function(e,t){var n=h(t,1),r=n[0];if(isNaN(r))return!1;for(var i=1024*Number(r),a=0;a<e.length;a++)if(e[a].size>i)return!1;return!0},H=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(e===i||r(i)&&i.test(e))return!0}return!1}function a(e,t){if((0,u.default)(e),!e||e.length>=2083||/\s/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;t=(0,h.default)(t,v);var n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,f=void 0,d=void 0,y=void 0;if(d=e.split("#"),e=d.shift(),d=e.split("?"),e=d.shift(),d=e.split("://"),d.length>1){if(n=d.shift(),t.require_valid_protocol&&t.protocols.indexOf(n)===-1)return!1}else{if(t.require_protocol)return!1;t.allow_protocol_relative_urls&&"//"===e.substr(0,2)&&(d[0]=e.substr(2))}if(e=d.join("://"),d=e.split("/"),e=d.shift(),""===e&&!t.require_host)return!0;if(d=e.split("@"),d.length>1&&(r=d.shift(),r.indexOf(":")>=0&&r.split(":").length>2))return!1;o=d.join("@"),f=y=null;var g=o.match(m);return g?(a="",y=g[1],f=g[2]||null):(d=o.split(":"),a=d.shift(),d.length&&(f=d.join(":"))),!(null!==f&&(s=parseInt(f,10),!/^[0-9]+$/.test(f)||s<=0||s>65535))&&(!!((0,c.default)(a)||(0,l.default)(a,t)||y&&(0,c.default)(y,6)||"localhost"===a)&&(a=a||y,!(t.host_whitelist&&!i(a,t.host_whitelist))&&(!t.host_blacklist||!i(a,t.host_blacklist))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=k,u=n(o),s=T,l=n(s),f=B,c=n(f),d=F,h=n(d),v={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},m=/^\[([^\]]+)\](?::([0-9]+))?$/;e.exports=t.default}),J=e(H),Q=function(e,t){return J(e,{host_whitelist:t||!1})},W={alpha_dash:a,alpha_num:o,alpha_spaces:u,alpha:i,between:y,confirmed:g,decimal:p,digits:_,dimensions:x,email:L,ext:M,image:D,in:N,ip:V,max:P,mimes:z,min:R,not_in:C,numeric:Z,regex:Y,required:K,size:G,url:Q},X=function(){function e(){l(this,e),this.errors=[]}return f(e,[{key:"add",value:function(e,t,n){var r={field:e,msg:t};n&&(r.scope=n),this.errors.push(r)}},{key:"all",value:function(e){return e?this.errors.filter(function(t){return t.scope===e}).map(function(e){return e.msg}):this.errors.map(function(e){return e.msg})}},{key:"any",value:function(e){return e?!!this.errors.filter(function(t){return t.scope===e}).length:!!this.errors.length}},{key:"clear",value:function(e){return e?void(this.errors=this.errors.filter(function(t){return t.scope!==e})):void(this.errors=[])}},{key:"collect",value:function(e,t){var n=this;if(!e){var r=function(){var e={};return n.errors.forEach(function(t){e[t.field]||(e[t.field]=[]),e[t.field].push(t.msg)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}return t?this.errors.filter(function(n){return n.field===e&&n.scope===t}).map(function(e){return e.msg}):this.errors.filter(function(t){return t.field===e}).map(function(e){return e.msg})}},{key:"count",value:function(){return this.errors.length}},{key:"first",value:function(e,t){for(var n=0;n<this.errors.length;n++)if(this.errors[n].field===e){if(!t)return this.errors[n].msg;if(this.errors[n].scope===t)return this.errors[n].msg}return null}},{key:"has",value:function(e,t){for(var n=0;n<this.errors.length;n++)if(this.errors[n].field===e){if(!t)return!0;if(this.errors[n].scope===t)return!0}return!1}},{key:"remove",value:function(e,t){return t?void(this.errors=this.errors.filter(function(n){return n.field!==e||n.scope!==t})):void(this.errors=this.errors.filter(function(t){return t.field!==e}))}}]),e}(),ee=function(){function e(t){l(this,e),this.msg=t}return f(e,[{key:"toString",value:function(){return this.msg}}]),e}(),te=function(e){return e.dataset.scope||e.form&&e.form.dataset.scope},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;var r=void 0;return function(i){function a(){n||e.apply(s,u),r=null}var o=v(i),u=o,s=this;r?clearTimeout(r):n&&e.apply.apply(e,[s].concat(m(u))),r=setTimeout(a,t||100)}},re=function(e){console&&console.warn("vee-validate: "+e)},ie=function(e){return e&&"object"===("undefined"==typeof e?"undefined":s(e))&&!Array.isArray(e)&&null!==e},ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.dictionary={},this.merge(t)}return f(e,[{key:"hasLocale",value:function(e){return!!this.dictionary[e]}},{key:"getMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.hasMessage(e,t)?this.dictionary[e].messages[t]:n}},{key:"getAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.hasAttribute(e,t)?this.dictionary[e].attributes[t]:n}},{key:"hasMessage",value:function(e,t){return!!(this.hasLocale(e)&&this.dictionary[e].messages&&this.dictionary[e].messages[t])}},{key:"hasAttribute",value:function(e,t){return!!(this.hasLocale(e)&&this.dictionary[e].attributes&&this.dictionary[e].attributes[t])}},{key:"merge",value:function(e){this._merge(this.dictionary,e)}},{key:"setMessage",value:function(e,t,n){this.hasLocale(e)||(this.dictionary[e]={messages:{},attributes:{}}),this.dictionary[e].messages[t]=n}},{key:"setAttribute",value:function(e,t,n){this.hasLocale(e)||(this.dictionary[e]={messages:{},attributes:{}}),this.dictionary[e].attributes[t]=n}},{key:"_merge",value:function(e,t){var n=this;return ie(e)&&ie(t)?(Object.keys(t).forEach(function(r){return ie(t[r])?(e[r]||d(e,c({},r,{})),void n._merge(e[r],t[r])):void d(e,c({},r,t[r]))}),e):e}}]),e}(),oe={alpha_dash:function(e){return"The "+e+" may contain alpha-numeric characters as well as dashes and underscores."},alpha_num:function(e){return"The "+e+" may only contain alpha-numeric characters."},alpha_spaces:function(e){return"The "+e+" may only contain alphabetic characters as well as spaces."},alpha:function(e){return"The "+e+" may only contain alphabetic characters."},between:function(e,t){var n=h(t,2),r=n[0],i=n[1];return"The "+e+" must be between "+r+" and "+i+"."},confirmed:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" does not match the "+r+"."},decimal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],n=h(t,1),r=n[0];return"The "+e+" must be numeric and may contain "+("*"===r?"":r)+" decimal points."},digits:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" must be numeric and exactly contain "+r+" digits."},dimensions:function(e,t){var n=h(t,2),r=n[0],i=n[1];return"The "+e+" must be "+r+" pixels by "+i+" pixels."},email:function(e){return"The "+e+" must be a valid email."},ext:function(e){return"The "+e+" must be a valid file."},image:function(e){return"The "+e+" must be an image."},in:function(e){return"The "+e+" must be a valid value."},ip:function(e){return"The "+e+" must be a valid ip address."},max:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" may not be greater than "+r+" characters."},mimes:function(e){return"The "+e+" must have a valid file type."},min:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" must be at least "+r+" characters."},not_in:function(e){return"The "+e+" must be a valid value."},numeric:function(e){return"The "+e+" may only contain numeric characters."},regex:function(e){return"The "+e+" format is invalid."},required:function(e){return"The "+e+" is required."},size:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" must be less than "+r+" KB."},url:function(e){return"The "+e+" is not a valid URL."}},ue=function(e){return function(t,n){var r=h(n,2),i=r[0],a=r[1],o=e(t,a,!0),u=document.querySelector("input[name='"+i+"']");if(!o.isValid()||!u)return!1;var s=e(u.value,a,!0);return!!s.isValid()&&o.isAfter(s)}},se=function(e){return function(t,n){var r=h(n,2),i=r[0],a=r[1],o=e(t,a,!0),u=document.querySelector("input[name='"+i+"']");if(!o.isValid()||!u)return!1;var s=e(u.value,a,!0);return!!s.isValid()&&o.isBefore(s)}},le=function(e){return function(t,n){var r=h(n,1),i=r[0];return e(t,i,!0).isValid()}},fe=function(e){return function(t,n){var r=h(n,3),i=r[0],a=r[1],o=r[2],u=e(i,o,!0),s=e(a,o,!0),l=e(t,o,!0);return!!(u.isValid()&&s.isValid()&&l.isValid())&&l.isBetween(u,s)}},ce={after:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" must be after "+r+"."},before:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" must be before "+r+"."},date_between:function(e,t){var n=h(t,2),r=n[0],i=n[1];return"The "+e+" must be between "+r+" and "+i+"."},date_format:function(e,t){var n=h(t,1),r=n[0];return"The "+e+" must be in the format "+r+"."}},de={make:function(e){return{date_format:le(e),after:ue(e),before:se(e),date_between:fe(e)}},messages:ce,installed:!1},he=function(){function e(){l(this,e),this.fields={}}return f(e,[{key:"_add",value:function(e){this.fields[e]={},this._setFlags(e,{dirty:!1,valid:!1},!0)}},{key:"_remove",value:function(e){delete this.fields[e]}},{key:"reset",value:function(e){var t=this;return e?void this._setFlags(e,{dirty:!1,valid:!1},!0):void Object.keys(this.fields).forEach(function(e){t._setFlags(e,{dirty:!1,valid:!1},!0)})}},{key:"_setFlags",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.keys(t).every(function(i){return n._setFlag(e,i,t[i],r)})}},{key:"_setFlag",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="set"+t.charAt(0).toUpperCase()+t.slice(1);return"function"==typeof this[i]&&(this[i](e,n,r),!0)}},{key:"setDirty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.fields[e].dirty=t,this.fields[e].clean=n||!t,this.fields[e].passed=this.fields[e].valid&&t,this.fields[e].failed=!this.fields[e].valid&&t}},{key:"setValid",value:function(e,t){this.fields[e].valid=t,this.fields[e].passed=this.fields[e].dirty&&t,this.fields[e].failed=this.fields[e].dirty&&!t}},{key:"_getFieldFlag",value:function(e,t){return!!this.fields[e]&&this.fields[e][t]}},{key:"dirty",value:function(e){var t=this;return e?this._getFieldFlag(e,"dirty"):Object.keys(this.fields).some(function(e){return t.fields[e].dirty})}},{key:"valid",value:function(e){var t=this;return e?this._getFieldFlag(e,"valid"):Object.keys(this.fields).every(function(e){return t.fields[e].valid})}},{key:"passed",value:function(e){var t=this;return e?this._getFieldFlag(e,"passed"):Object.keys(this.fields).every(function(e){return t.fields[e].passed})}},{key:"failed",value:function(e){var t=this;return e?this._getFieldFlag(e,"failed"):Object.keys(this.fields).some(function(e){return t.fields[e].failed})}},{key:"clean",value:function(e){return e?this._getFieldFlag(e,"clean"):!this.dirty()}}]),e}(),ve="veeValidate",me="en",ye=!0,ge=new ae({en:{messages:oe,attributes:{}}}),pe=function(){function e(t,n){l(this,e),this.locale=me,this.strictMode=ye,this.$fields={},this.fieldBag=new he,this._createFields(t),this.errorBag=new X,this.$vm=n,"function"==typeof moment&&this.installDateTimeValidators(moment)}return f(e,[{key:"installDateTimeValidators",value:function(t){e.installDateTimeValidators(t)}},{key:"setStrictMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.strictMode=e}},{key:"setLocale",value:function(e){ge.hasLocale(e)||re("You are setting the validator locale to a locale that is not defined in the dicitionary. English messages may still be generated."),this.locale=e}},{key:"attach",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.errorBag.remove(e),this._createField(e,t),n&&(this.$fields[e].name=n)}},{key:"updateDictionary",value:function(t){e.updateDictionary(t)}},{key:"detach",value:function(e){this.$vm&&"function"==typeof this.$vm.$emit&&this.$vm.$emit("VALIDATOR_OFF",e),delete this.$fields[e],this.fieldBag._remove(e)}},{key:"extend",value:function(t,n){e.extend(t,n)}},{key:"validateAll",value:function(e){var t=this;if(this.$vm&&(!e||"string"==typeof e))return this.errorBag.clear(e),void this.$vm.$emit(ve,e);var n=!0,r=[];return this.errorBag.clear(),Object.keys(e).forEach(function(i){var a=t.validate(i,e[i]);return"function"==typeof a.then?void r.push(a):void(n=n&&a)}),r.length?Promise.all(r).then(function(e){return e.every(function(e){return e})&&n}):n}},{key:"validate",value:function(e,t,n){var r=this;if(!this.$fields[e])return!this.strictMode||(re('Trying to validate a non-existant field: "'+e+'". Use "attach()" first.'),!1);if(this.errorBag.remove(e,n),!this.$fields[e].required&&~[null,void 0,""].indexOf(t))return!0;var i=!0,a=[];return this.$fields[e].validations.forEach(function(o){var u=r._test(e,t,o,n);return"function"==typeof u.then?void a.push(u):void(i=i&&u)}),a.length?Promise.all(a).then(function(t){var n=t.every(function(e){return e})&&i;return r.fieldBag._setFlags(e,{valid:n,dirty:!0}),n}):(this.fieldBag._setFlags(e,{valid:i,dirty:!0}),i)}},{key:"_createFields",value:function(e){var t=this;e&&Object.keys(e).forEach(function(n){t._createField(n,e[n])})}},{key:"_createField",value:function(e,t){var n=this;return this.$fields[e]||(this.$fields[e]={}),this.fieldBag._add(e),this.$fields[e].validations=[],Array.isArray(t)?void(this.$fields[e].validations=t):void t.split("|").forEach(function(t){var r=n._normalizeRule(t,n.$fields[e].validations);"required"===r.name&&(n.$fields[e].required=!0),n.$fields[e].validations.push(r)})}},{key:"_normalizeRule",value:function(e,t){var n=[],r=e.split(":")[0];if(~e.indexOf(":")&&(n=e.split(":")[1].split(",")),de.installed&&~["after","before","date_between"].indexOf(r)){var i=t.filter(function(e){return"date_format"===e.name})[0];i&&n.push(i.params[0])}return{name:r,params:n}}},{key:"_formatErrorMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._getFieldDisplayName(e),i=this._getLocalizedParams(t);return ge.hasLocale(this.locale)&&"function"==typeof ge.getMessage(this.locale,t.name)?ge.getMessage(this.locale,t.name)(r,i,n):ge.getMessage("en",t.name)(r,i,n)}},{key:"_getLocalizedParams",value:function(e){return~["after","before","confirmed"].indexOf(e.name)&&e.params&&e.params[0]?[ge.getAttribute(this.locale,e.params[0],e.params[0])]:e.params}},{key:"_getFieldDisplayName",value:function(e){return this.$fields[e].name||ge.getAttribute(this.locale,e,e)}},{key:"_test",value:function(e,t,n,r){var i=this,a=W[n.name],o=a(t,n.params);return"function"==typeof o.then?o.then(function(t){var a=!0;return Array.isArray(t)?(a=t.every(function(e){return e.valid}),a||i.errorBag.add(e,i._formatErrorMessage(e,n),r)):(a=t.valid,i.errorBag.add(e,i._formatErrorMessage(e,n,t.data),r)),a}):ie(o)?(o.valid||this.errorBag.add(e,this._formatErrorMessage(e,n,o.data),r),o.valid):(o||this.errorBag.add(e,this._formatErrorMessage(e,n),r),o)}},{key:"getErrors",value:function(){return this.errorBag}}],[{key:"setDefaultLocale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";ge.hasLocale(e)||re("You are setting the validator locale to a locale that is not defined in the dicitionary. English messages may still be generated."),me=e}},{key:"setStrictMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ye=e}},{key:"installDateTimeValidators",value:function(t){if("function"!=typeof t)return re("To use the date-time validators you must provide moment reference."),!1;if(de.installed)return!0;var n=de.make(t);return Object.keys(n).forEach(function(t){e.extend(t,n[t])}),e.updateDictionary({en:{messages:de.messages}}),de.installed=!0,!0}},{key:"updateDictionary",value:function(e){ge.merge(e)}},{key:"create",value:function(t,n){return new e(t,n)}},{key:"extend",value:function(t,n){e._guardExtend(t,n),e._merge(t,n)}},{key:"_merge",value:function(e,t){return"function"==typeof t?(W[e]=t,void ge.setMessage("en",e,function(e){return"The "+e+" value is not valid."})):(W[e]=t.validate,t.getMessage&&"function"==typeof t.getMessage&&ge.setMessage("en",e,t.getMessage),void(t.messages&&ge.merge(Object.keys(t.messages).reduce(function(n,r){var i=n;return i[r]={messages:c({},e,t.messages[r])},i},{}))))}},{key:"_guardExtend",value:function(e,t){if(W[e])throw new ee("Extension Error: There is an existing validator with the same name '"+e+"'.");if("function"!=typeof t){if("function"!=typeof t.validate)throw new ee("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.");if("function"!=typeof t.getMessage&&"object"!==s(t.messages))throw new ee("Extension Error: The validator '"+e+"' must have a 'getMessage' method or have a 'messages' object.")}}}]),e}(),_e=[],be=function(e){for(var t=0;t<_e.length;t++)if(_e[t].$vm===e)return _e[t].$validator},xe=function(e){var t=be(e);return t||(t=pe.create(void 0,e),_e.push({$vm:e,$validator:t})),t},ke=function(e){for(var t=0;t<_e.length;t++)if(_e[t].$vm===e)return _e.splice(t,1),!0;return!1},Fe=function(e){return{data:function(){return c({},e.errorBagName,this.$validator.errorBag)},computed:c({},e.fieldsBagName,{get:function(){return this.$validator.fieldBag}}),mounted:function(){this.$emit("validatorReady")},destroyed:function(){ke(this)}}},we="veeValidate",$e=function(){function e(t,n,r,i){l(this,e),this.callbacks=[],this.el=t,this.binding=n,this.vm=r,this.options=i,this.fieldName=n.expression||t.name}return f(e,[{key:"_hasFieldDependency",value:function(e){var t=e.split("|").filter(function(e){return!!e.match(/confirmed|after|before/)});return!!t.length&&t[0].split(":")[1]}},{key:"_inputListener",value:function(){this.vm.$validator.validate(this.fieldName,this.el.value,te(this.el))}},{key:"_fileListener",value:function(){var e=this.vm.$validator.validate(this.fieldName,this.el.files,te(this.el));!e&&this.binding.modifiers.reject&&(el.value="")}},{key:"_radioListener",value:function(){var e=document.querySelector('input[name="'+this.el.name+'"]:checked');return e?void this.vm.$validator.validate(this.fieldName,e.value,te(this.el)):void this.vm.$validator.validate(this.fieldName,null,te(this.el))}},{key:"_checkboxListener",value:function(){var e=this,t=document.querySelectorAll('input[name="'+this.el.name+'"]:checked');return t&&t.length?void[].concat(m(t)).forEach(function(t){e.vm.$validator.validate(e.fieldName,t.value,te(e.el))}):void this.vm.$validator.validate(this.fieldName,null,te(this.el))}},{key:"_getScopedListener",value:function(e){var t=this;return function(n){(!n||n===te(t.el)||n instanceof Event)&&e()}}},{key:"_attachValidatorEvent",value:function(){var e=this,t=this._getScopedListener(this._getSuitableListener().listener.bind(this));this.vm.$on(we,t),this.callbacks.push({name:we,listener:t}),this.vm.$on("VALIDATOR_OFF",function(t){e.fieldName===t&&e.detach()});var n=this._hasFieldDependency(this.el.dataset.rules);n&&this.vm.$once("validatorReady",function(){var r=document.querySelector("input[name='"+n+"']");return r?(r.addEventListener("input",t),void e.callbacks.push({name:"input",listener:t,el:r})):void re("Cannot find target field, no additional listeners were attached.")})}},{key:"_getSuitableListener",value:function(){return"file"===this.el.type?{name:"change",listener:this._fileListener}:"radio"===this.el.type?{name:"change",listener:this._radioListener}:"checkbox"===this.el.type?{name:"change",listener:this._checkboxListener}:{name:"input",listener:this._inputListener}}},{key:"_attachFieldListeners",value:function(){var e=this,t=this._getSuitableListener(),n=ne(t.listener.bind(this),this.el.dataset.delay||this.options.delay);return~["radio","checkbox"].indexOf(this.el.type)?void this.vm.$once("validatorReady",function(){[].concat(m(document.querySelectorAll('input[name="'+e.el.name+'"]'))).forEach(function(r){r.addEventListener(t.name,n),e.callbacks.push({name:t.name,listener:n,el:r})})}):(this.el.addEventListener(t.name,n),void this.callbacks.push({name:t.name,listener:n,el:this.el}))}},{key:"attach",value:function(){return this.vm.$validator.attach(this.fieldName,this.el.dataset.rules,this.el.dataset.as),this._attachValidatorEvent(),this.binding.expression?void(this.binding.modifiers.initial||this.vm.$validator.validate(this.binding.expression,this.binding.value,te(this.el))):void this._attachFieldListeners()}},{key:"detach",value:function(){var e=this;this.callbacks.filter(function(e){var t=e.name;return t===we}).forEach(function(t){e.vm.$off(we,t.listener)}),this.callbacks.filter(function(e){var t=e.name;return t!==we}).forEach(function(e){e.el.removeEventListener(e.name,e.listener)})}}]),e}(),Ee=[],je=function(e){return{bind:function(t,n,r){var i=r.context,a=new $e(t,n,i,e);a.attach(),Ee.push({vm:i,el:t,instance:a})},update:function(e,t,n){var r=t.expression,i=t.value,a=(t.modifiers,t.oldValue),o=n.context;r&&i!==a&&o.$validator.validate(r||e.name,i,te(e))},unbind:function(e,t,n){var r=n.context,i=Ee.filter(function(t){return t.vm===r&&t.el===e})[0];i.instance.detach(),Ee.splice(Ee.indexOf(i),1)}}},Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?"en":n,i=t.delay,a=void 0===i?0:i,o=t.errorBagName,u=void 0===o?"errors":o,s=t.dictionary,l=void 0===s?null:s,f=t.strict,c=void 0===f||f,d=t.fieldsBagName,h=void 0===d?"fields":d;l&&pe.updateDictionary(l),pe.setDefaultLocale(r),pe.setStrictMode(c);var v={locale:r,delay:a,dictionary:l,errorBagName:u,fieldsBagName:h};Object.defineProperties(e.prototype,{$validator:{get:function(){return xe(this)}}}),e.mixin(Fe(v)),e.directive("validate",je(v))},Ae={install:Te,Validator:pe,ErrorBag:X};return Ae});
